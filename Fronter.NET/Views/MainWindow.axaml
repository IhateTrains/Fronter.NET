<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:viewModels="clr-namespace:Fronter.ViewModels"
        xmlns:views="clr-namespace:Fronter.Views"
        xmlns:fronter="clr-namespace:Fronter"
        xmlns:ns="clr-namespace:Fronter.Extensions"
        mc:Ignorable="d" d:DesignWidth="500" d:DesignHeight="400"
        x:Class="Fronter.Views.MainWindow"
        Icon="/Assets/converter.ico"
        Title="Converter Frontend"
        
        ExtendClientAreaToDecorationsHint="False">

    <Design.DataContext>
        <viewModels:MainWindowViewModel />
    </Design.DataContext>
    
    <Window.Styles>
        <Style Selector="DataGridCell.verticalTop">
            <Setter Property="VerticalContentAlignment" Value="Top" />
        </Style>
    </Window.Styles>

    <DockPanel>
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="{ns:Loc MENUCONVERTER}">
                <MenuItem Header="{ns:Loc CHECKFORUPDATES}" Command="{Binding CheckForUpdates}"/>
                <Separator/>
                <MenuItem Header="{ns:Loc EXIT}" Command="{Binding Exit}"/>
            </MenuItem>
            <MenuItem Header="{ns:Loc LANGUAGE}" Items="{Binding Languages}" Classes="LanguageChoice">
                <MenuItem.Styles>
                    <Style Selector="MenuItem.LanguageChoice MenuItem">
                        <Setter Property="Header" Value="{Binding Value}"/>
                        <Setter Property="Command" Value="{Binding $parent[Window].DataContext.SetLanguage}"/>
                        <Setter Property="CommandParameter" Value="{Binding Key}"/>
                    </Style>
                </MenuItem.Styles>  
            </MenuItem>
            <MenuItem Header="{ns:Loc MENU_THEME}">
                <MenuItem
                    Header="{ns:Loc THEME_LIGHT}"
                    Command="{Binding SetTheme}"
                    CommandParameter="Light"
                />
                <MenuItem
                    Header="{ns:Loc THEME_DARK}"
                    Command="{Binding SetTheme}"
                    CommandParameter="Dark"
                />
                <MenuItem
                    Header="{ns:Loc THEME_HIGH_CONTRAST}"
                    Command="{Binding SetTheme}"
                    CommandParameter="HighContrast"
                />
            </MenuItem>
                
            <MenuItem Header="{ns:Loc MENUHELP}">
                <MenuItem Header="{ns:Loc ABOUT}" Command="{Binding OpenAboutDialog}"/>
                <MenuItem Header="{ns:Loc SUPPORT_US}" Command="{Binding OpenPatreonPage}"/>
            </MenuItem>
        </Menu>
        <TabControl DockPanel.Dock="Top" MinHeight="150">
            <TabItem Header="{ns:Loc PATHSTAB}" VerticalContentAlignment="Center">
                <DockPanel>
                    <Button DockPanel.Dock="Bottom">Add an item</Button>
                    <StackPanel>
                        <CheckBox Margin="4">Walk the dog</CheckBox>
                        <CheckBox Margin="4">Walk the dog</CheckBox>
                        <CheckBox Margin="4">Buy some milk</CheckBox>
                    </StackPanel>
                </DockPanel>
            </TabItem>
            <TabItem Header="{ns:Loc MODSTAB}" VerticalContentAlignment="Center">
                <StackPanel>
                    <TextBlock Text="{ns:Loc MODSDISABLED}" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                </StackPanel>
            </TabItem>
            
            <TabItem Header="{ns:Loc OPTIONSTAB}" VerticalContentAlignment="Center">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Square : " HorizontalAlignment="Left" VerticalAlignment="Center"/>
                    <Rectangle Fill="Blue" Width="63" Height="41"/>
                </StackPanel>
            </TabItem>
            
            <TabItem Header="{ns:Loc CONVERTTAB}" VerticalContentAlignment="Center">
                <Grid ColumnDefinitions="1*,1*,1*" RowDefinitions="Auto"  Margin="4">
                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Square : " HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    <Rectangle Grid.Row="0" Grid.Column="1" HorizontalAlignment="Stretch" Fill="Blue" Height="41"/>
                    <Button Grid.Row="0" Grid.Column="2" HorizontalAlignment="Center" Name="ConvertButton" Command="{Binding LaunchConverter}">Convert!</Button>
                </Grid>
            </TabItem>
        </TabControl>
        
        <DataGrid Name="LogGrid" Margin="0,20,0,0" VerticalScrollBarVisibility="Visible" Items="{Binding LogLines}" AutoGenerateColumns="False" CanUserReorderColumns="False" CanUserSortColumns="False">
            <DataGrid.GridLinesVisibility>All</DataGrid.GridLinesVisibility>
            <DataGrid.Columns>
                <DataGridTextColumn Header="{ns:Loc LOGTIME}" IsReadOnly="True" Binding="{Binding Timestamp}" CellStyleClasses="verticalTop" />
                <DataGridTextColumn Header="{ns:Loc LOGSEVERITY}" IsReadOnly="True" Binding="{Binding LogLevel}" CellStyleClasses="verticalTop" />
                <DataGridTextColumn Header="{ns:Loc LOGMESSAGE}" IsReadOnly="True" Binding="{Binding Message}" CellStyleClasses="verticalTop" />
            </DataGrid.Columns>
        </DataGrid>
    </DockPanel>
</Window>
